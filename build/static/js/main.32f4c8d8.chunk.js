(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(t,e,a){t.exports=a(47)},30:function(t,e,a){},32:function(t,e,a){},47:function(t,e,a){"use strict";a.r(e);var n=a(1),l=a.n(n),i=a(16),o=a.n(i),s=(a(30),a(24)),r=a(21),u=a(17),c=a(18),h=a(22),m=a(19),p=a(23),d=(a(32),a(34),a(4)),k=function(t){function e(t){var a;return Object(u.a)(this,e),a=Object(h.a)(this,Object(m.a)(e).call(this,t)),console.log("App-komponentti: konstruktori (rakentaja)."),a.state={tuntilista:[]},a.state2={lista:[]},a.state3={graphdata:[]},a}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch("https://reactraportti.azurewebsites.net/api/Workhours").then(function(t){return t.json()}).then(function(e){console.log(e),console.log("App-komponentti: aloitetaan setState()-kutsu."),t.setState({tuntilista:e}),console.log("App-komponentti: setState()-metodia kutsuttu.")}),console.log("App-komponentti: Fetch-kutsu tehty.")}},{key:"render",value:function(){console.log("App-komponentti: render-metodissa.");var t="",e=[];if(this.state.tuntilista.length>0){for(var a=this.state.tuntilista.map(function(t){return t.employeeId}),n=Object(r.a)(new Set(a)),i=0;i<n.length;i++)this.state2.lista.push({id:n[i],tunnit:0,nimi:""});for(var o=0;o<n.length;o++)for(var u=0;u<this.state.tuntilista.length;u++){var c=this.state.tuntilista[u];this.state2.lista[o].id===c.employeeId&&(this.state2.lista[o].tunnit=this.state2.lista[o].tunnit+c.hours,this.state2.lista[o].nimi=c.employeeName)}for(var h=0;h<this.state2.lista.length;h++)this.state3.graphdata.push({x:this.state2.lista[h].nimi,y:this.state2.lista[h].tunnit})}if(this.state.tuntilista.length>0){e.push(l.a.createElement("tr",null,l.a.createElement("th",null,"Tunti ID"),l.a.createElement("th",null,"Ty\xf6ntekij\xe4n ID"),l.a.createElement("th",null,"Projekti ID"),l.a.createElement("th",null,"P\xe4iv\xe4m\xe4\xe4r\xe4"),l.a.createElement("th",null,"Tunnit"),l.a.createElement("th",null,"Ty\xf6ntekij\xe4n nimi"),l.a.createElement("th",null,"Projektin nimi")));for(var m=0;m<this.state.tuntilista.length;m++){var p=this.state.tuntilista[m];e.push(l.a.createElement("tr",null,l.a.createElement("td",null,p.workhourId),l.a.createElement("td",null,p.employeeId),l.a.createElement("td",null,p.projectId),l.a.createElement("td",null,p.date),l.a.createElement("td",null,p.hours),l.a.createElement("td",null,p.employeeName),l.a.createElement("td",null,p.projectName)))}}else t="Ladataan tietoja tietokannasta...";return console.log("graphdata"),console.log(this.state3.graphdata),l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,"Ty\xf6tuntien raportointi Reactilla"),l.a.createElement("a",{href:"http://tyotunnit.azurewebsites.net/"},"Takaisin ASP.NET ty\xf6tuntisivuille."),l.a.createElement("h2",null,"Ty\xf6tuntitaulukko"),l.a.createElement("p",null,"Alla oleva graafi on tehty k\xe4ytt\xe4en ",l.a.createElement("a",{href:"http://uber.github.io/react-vis/"},"React-Vis")," visualisointikirjastoa."),l.a.createElement("p",null,"Siin\xe4 on listattu jokainen ty\xf6ntekij\xe4 ja laskettu yhteen ty\xf6tunnit palkkeihin."),l.a.createElement("div",{className:"Graph"},l.a.createElement(d.f,{height:500,width:500,xType:"ordinal"},l.a.createElement(d.d,null),l.a.createElement(d.a,null),l.a.createElement(d.e,{title:"Ty\xf6ntekij\xe4t"}),l.a.createElement(d.g,{title:"Tunnit yhteens\xe4"}),l.a.createElement(d.c,{data:this.state3.graphdata}),l.a.createElement(d.b,{data:this.state3.graphdata.map(function(t){return Object(s.a)({},t,{label:t.y.toString()})}),labelAnchorX:"middle",labelAnchorY:"text-before-edge"}))),l.a.createElement("h3",null,"Tietokantahaku"),l.a.createElement("p",null,t),l.a.createElement("p",null,"Jos mit\xe4\xe4n ongelmia ei ole tietokannan haussa, niin alla olevassa taulukossa on tietokannan tiedot taulukossa."),l.a.createElement("table",{id:"t01"},l.a.createElement("tbody",null,e)))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[25,2,1]]]);
//# sourceMappingURL=main.32f4c8d8.chunk.js.map